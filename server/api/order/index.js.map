{"version":3,"sources":["api/order/index.js"],"names":["express","require","bodyParser","multer","storage","diskStorage","destination","req","file","callback","filename","Date","now","originalname","upload","any","controller","auth","router","Router","get","isAuthenticated","myOrders","company","post","newcontact","employee","index","hasRole","show","create","put","update","patch","delete","destroy","module","exports"],"mappings":"AAAA;;AAEA,IAAIA,UAAUC,QAAQ,SAAR,CAAd;AACA,IAAIC,aAAgBD,QAAQ,aAAR,CAApB;AACA,IAAIE,SAAYF,QAAQ,QAAR,CAAhB;AACA,IAAIG,UAAYD,OAAOE,WAAP,CAAmB;AACjCC,eAAa,qBAAUC,GAAV,EAAeC,IAAf,EAAqBC,QAArB,EAA+B;AAC1CA,aAAS,IAAT,EAAe,mBAAf;AACD,GAHgC;AAIjCC,YAAU,kBAAUH,GAAV,EAAeC,IAAf,EAAqBC,QAArB,EAA+B;;AAExCA,aAAS,IAAT,EAAeE,KAAKC,GAAL,KAAc,GAAd,GAAoBJ,KAAKK,YAAxC;AACD;AAPiC,CAAnB,CAAhB;AASA,IAAIC,SAASX,OAAO,EAAEC,SAAUA,OAAZ,EAAP,EAA8BW,GAA9B,EAAb;AACA,IAAIC,aAAaf,QAAQ,oBAAR,CAAjB;;AAEA,IAAIgB,OAAOhB,QAAQ,yBAAR,CAAX;AACA,IAAIiB,SAASlB,QAAQmB,MAAR,EAAb;AACAD,OAAOE,GAAP,CAAW,KAAX,EAAkBH,KAAKI,eAAL,EAAlB,EAA2CL,WAAWM,QAAtD;AACAJ,OAAOE,GAAP,CAAW,SAAX,EAAuBJ,WAAWO,OAAlC;AACAL,OAAOM,IAAP,CAAY,aAAZ,EAA4BR,WAAWS,UAAvC;AACAP,OAAOE,GAAP,CAAW,WAAX,EAAwBH,KAAKI,eAAL,EAAxB,EAAiDL,WAAWU,QAA5D;AACAR,OAAOE,GAAP,CAAW,GAAX,EAAiBJ,WAAWW,KAA5B;AACAT,OAAOE,GAAP,CAAW,MAAX,EAAmBH,KAAKW,OAAL,CAAa,SAAb,CAAnB,EAA4CZ,WAAWa,IAAvD;AACAX,OAAOM,IAAP,CAAY,GAAZ,EAAkBP,KAAKI,eAAL,EAAlB,EAA0CP,MAA1C,EAAkDE,WAAWc,MAA7D;AACAZ,OAAOa,GAAP,CAAW,MAAX,EAAmBd,KAAKI,eAAL,EAAnB,EAA2CL,WAAWgB,MAAtD;AACAd,OAAOe,KAAP,CAAa,MAAb,EAAqBhB,KAAKI,eAAL,EAArB,EAA6CL,WAAWgB,MAAxD;AACAd,OAAOgB,MAAP,CAAc,MAAd,EAAsBjB,KAAKW,OAAL,CAAa,OAAb,CAAtB,EAA6CZ,WAAWmB,OAAxD;;AAEAC,OAAOC,OAAP,GAAiBnB,MAAjB","file":"index.js","sourcesContent":["'use strict';\n\nvar express = require('express');\nvar bodyParser =    require(\"body-parser\");\nvar multer  =   require('multer');\nvar storage =   multer.diskStorage({\n  destination: function (req, file, callback) {\n    callback(null, '../client/uploads');\n  },\n  filename: function (req, file, callback) {\n\n   callback(null, Date.now()  + '-' + file.originalname);\n }\n});\nvar upload = multer({ storage : storage }).any();\nvar controller = require('./order.controller');\n\nvar auth = require('../../auth/auth.service');\nvar router = express.Router();\nrouter.get('/my', auth.isAuthenticated() , controller.myOrders);\nrouter.get('/latest',  controller.company);\nrouter.post('/newcontact',  controller.newcontact);\nrouter.get('/employee', auth.isAuthenticated() , controller.employee);\nrouter.get('/',  controller.index);\nrouter.get('/:id', auth.hasRole('manager'), controller.show);\nrouter.post('/',  auth.isAuthenticated(), upload, controller.create);\nrouter.put('/:id', auth.isAuthenticated(), controller.update);\nrouter.patch('/:id', auth.isAuthenticated(), controller.update);\nrouter.delete('/:id', auth.hasRole('admin'), controller.destroy);\n\nmodule.exports = router;\n"]}